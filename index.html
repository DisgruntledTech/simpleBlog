<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Simple Blog 2025</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>    
  </head>
  <body style="background-color:azure;">
    
    <nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Simple Blog 2025</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Reports</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">Automation</a>
            </li>
          </ul>
          <form name="searchForm" id="searchForm" class="d-flex" role="search" method="POST" action="/index.html">
            <input name="searchBox" id="searchBox" class="form-control me-2" type="search" placeholder="Search" aria-label="Search" value="">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form>
        </div>
      </div>
    </nav>    
    <div class="container">
      <div class="row">        
        <div class="col-12">
          <h1>Manage Posts</h1>
          <div class="accordion" id="accordionPanelsStayOpenExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                  New Post
                </button>
              </h2>
              <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                <div class="accordion-body">
                    <form class="row g-3" name="newpost" id="newpost">
                        <div class="col-md-6">
                          <label for="authoremail" class="form-label">Author Email</label>
                          <input type="email" class="form-control" name="authoremail" id="authoremail" required maxlength="200" spellcheck="false" placeholder="Author Email">
                        </div>
                        <div class="col-md-6">
                          <label for="author" class="form-label">Author Name</label>
                          <input type="text" class="form-control" name="author" id="author" required maxlength="200" spellcheck="false" placeholder="Author Name">
                        </div>
                        <div class="col-12">
                          <label for="headline" class="form-label">Headline</label>
                          <input type="text" class="form-control" name="headline" id="headline" maxlength="200" spellcheck="true" placeholder="Headline">
                        </div>
                        <div class="col-12">
                          <label for="posttitle" class="form-label">Title</label>
                          <input type="text" class="form-control" name="posttitle" id="posttitle" maxlength="200" spellcheck="true" placeholder="Article Title">
                        </div>
                        <div class="col-md-12">
                          <label for="slug" class="form-label">Slug</label>
                          <input type="text" class="form-control" name="slug" id="slug" maxlength="250" spellcheck="false" placeholder="Slug">
                        </div>
                        <div class="col-md-12">
                          <label for="articlecontent" class="form-label">Article Content</label>
                          <textarea name="articlecontent" id="articlecontent" class="form-control" spellcheck="true" rows="5"></textarea>
                        </div>
                        
                        <div class="col-12">
                          <button type="button" class="btn btn-primary" onclick="submitpost();">Submit Post</button>
                        </div>
                      </form>
                </div>
              </div>
            </div>            
          </div>
        </div>
      </div>
    </div>      
    <footer class="footer" style="margin-top:150px;">
        <div class="container">
            <ul>
              <li>Node.js Site</li>
              <li>Github.com</li>              
            </ul>
        </div>
    </footer>
  </body>

  <script type="text/javascript">
    
      
      function submitpost(){
        const newpost = {"Headline":"","Title":"","Slug":"","Author":"", "AuthorEmail":"", "ArticleContent":"", "LocalePostDate":""};
        
        newpost.Headline = document.getElementById("headline").value;
        newpost.Title = document.getElementById("posttitle").value;
        newpost.Slug = document.getElementById("slug").value;
        newpost.Author = document.getElementById("author").value;
        newpost.AuthorEmail = document.getElementById("authoremail").value;
        newpost.ArticleContent = document.getElementById("articlecontent").value;
        newpost.LocalePostDate = new Date();  

        fetch('http://127.0.0.1:3000/Posts', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body:JSON.stringify(newpost)
        });

        console.log(newpost);
        
      }
      
      

  </script>



</html>
